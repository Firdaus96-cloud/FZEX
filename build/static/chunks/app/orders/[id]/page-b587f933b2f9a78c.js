(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{5565:function(e,t,r){Promise.resolve().then(r.bind(r,4068))},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}}),r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}})},291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(9920)._(r(2265)).default.createContext(null)},4068:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),s=r(6425),i=r(7998),l=r(2363),a=r(3479),c=r(6463),d=r(2265);function o(){let{clearCart:e}=(0,d.useContext)(s.A),[t,r]=(0,d.useState)(),[o,u]=(0,d.useState)(!0),{id:x}=(0,c.useParams)();(0,d.useEffect)(()=>{void 0!==window.console&&window.location.href.includes("clear-cart=1")&&e(),x&&(u(!0),fetch("/api/orders?_id="+x).then(e=>{e.json().then(e=>{r(e),u(!1)})}))},[]);let h=0;if(null==t?void 0:t.cartProducts)for(let e of null==t?void 0:t.cartProducts)h+=(0,s.B)(e);return(0,n.jsxs)("section",{className:"max-w-2xl mx-auto mt-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(l.Z,{mainHeader:"Your order"}),(0,n.jsxs)("div",{className:"mt-4 mb-8",children:[(0,n.jsx)("p",{children:"Thanks for your order."}),(0,n.jsx)("p",{children:"We will call you when your order will be on the way."})]})]}),o&&(0,n.jsx)("div",{children:"Loading order..."}),t&&(0,n.jsxs)("div",{className:"grid md:grid-cols-2 md:gap-16",children:[(0,n.jsxs)("div",{children:[t.cartProducts.map(e=>(0,n.jsx)(a.Z,{product:e},e._id)),(0,n.jsxs)("div",{className:"text-right py-2 text-gray-500",children:["Subtotal:",(0,n.jsxs)("span",{className:"text-black font-bold inline-block w-8",children:["$",h]}),(0,n.jsx)("br",{}),"Delivery:",(0,n.jsx)("span",{className:"text-black font-bold inline-block w-8",children:"$5"}),(0,n.jsx)("br",{}),"Total:",(0,n.jsxs)("span",{className:"text-black font-bold inline-block w-8",children:["$",h+5]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,n.jsx)(i.Z,{disabled:!0,addressProps:t})})})]})]})}},6425:function(e,t,r){"use strict";r.d(t,{A:function(){return a},AppProvider:function(){return d},B:function(){return c}});var n=r(7437),s=r(998),i=r(2265),l=r(8726);let a=(0,i.createContext)({});function c(e){var t;let r=e.basePrice;if(e.size&&(r+=e.size.price),(null===(t=e.extras)||void 0===t?void 0:t.length)>0)for(let t of e.extras)r+=t.price;return r}function d(e){let{children:t}=e,[r,c]=(0,i.useState)([]),d=window.localStorage;function o(e){d&&d.setItem("cart",JSON.stringify(e))}return(0,i.useEffect)(()=>{d&&d.getItem("cart")&&c(JSON.parse(d.getItem("cart")))},[]),(0,n.jsx)(s.SessionProvider,{children:(0,n.jsx)(a.Provider,{value:{cartProducts:r,setCartProducts:c,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];c(n=>{let s=[...n,{...e,size:t,extras:r}];return o(s),s})},removeCartProduct:function(e){c(t=>{let r=t.filter((t,r)=>r!==e);return o(r),r}),l.ZP.success("Product removed")},clearCart:function(){c([]),o([])}},children:t})})}},3550:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);function s(e){let{className:t="w-6 h-6"}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}},7998:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);function s(e){let{addressProps:t,setAddressProp:r,disabled:s=!1}=e,{phone:i,streetAddress:l,postalCode:a,city:c,country:d}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{children:"Phone"}),(0,n.jsx)("input",{disabled:s,type:"tel",placeholder:"Phone number",value:i||"",onChange:e=>r("phone",e.target.value)}),(0,n.jsx)("label",{children:"Street address"}),(0,n.jsx)("input",{disabled:s,type:"text",placeholder:"Street address",value:l||"",onChange:e=>r("streetAddress",e.target.value)}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Postal code"}),(0,n.jsx)("input",{disabled:s,type:"text",placeholder:"Postal code",value:a||"",onChange:e=>r("postalCode",e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"City"}),(0,n.jsx)("input",{disabled:s,type:"text",placeholder:"City",value:c||"",onChange:e=>r("city",e.target.value)})]})]}),(0,n.jsx)("label",{children:"Country"}),(0,n.jsx)("input",{disabled:s,type:"text",placeholder:"Country",value:d||"",onChange:e=>r("country",e.target.value)})]})}},2363:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);function s(e){let{subHeader:t,mainHeader:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"uppercase text-gray-500 font-semibold leading-4",children:t}),(0,n.jsx)("h2",{className:"text-primary font-bold text-4xl italic",children:r})]})}},3479:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437),s=r(6425),i=r(3550),l=r(6648);function a(e){var t;let{product:r,onRemove:a}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-4 border-b py-4",children:[(0,n.jsx)("div",{className:"w-24",children:(0,n.jsx)(l.default,{width:240,height:240,src:r.image,alt:""})}),(0,n.jsxs)("div",{className:"grow",children:[(0,n.jsx)("h3",{className:"font-semibold",children:r.name}),r.size&&(0,n.jsxs)("div",{className:"text-sm",children:["Size: ",(0,n.jsx)("span",{children:r.size.name})]}),(null===(t=r.extras)||void 0===t?void 0:t.length)>0&&(0,n.jsx)("div",{className:"text-sm text-gray-500",children:r.extras.map(e=>(0,n.jsxs)("div",{children:[e.name," $",e.price]},e.name))})]}),(0,n.jsxs)("div",{className:"text-lg font-semibold",children:["$",(0,s.B)(r)]}),!!a&&(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)("button",{type:"button",onClick:()=>a(index),className:"p-2",children:(0,n.jsx)(i.Z,{})})})]})}}},function(e){e.O(0,[648,726,998,971,23,744],function(){return e(e.s=5565)}),_N_E=e.O()}]);