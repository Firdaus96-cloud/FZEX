(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{5143:function(e,s,t){Promise.resolve().then(t.bind(t,2898))},6463:function(e,s,t){"use strict";var r=t(1169);t.o(r,"redirect")&&t.d(s,{redirect:function(){return r.redirect}}),t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}})},2898:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437);t(2363);var a=t(2546),n=t(8497),i=t(7138),c=t(2265);function d(){let[e,s]=(0,c.useState)([]),[t,d]=(0,c.useState)(!0),{loading:l,data:u}=(0,n.U)();return(0,c.useEffect)(()=>{d(!0),fetch("/api/orders").then(e=>{e.json().then(e=>{s(e.reverse()),d(!1)})})},[]),(0,r.jsxs)("section",{className:"mt-8 max-w-2xl mx-auto",children:[(0,r.jsx)(a.Z,{isAdmin:u.admin}),(0,r.jsxs)("div",{className:"mt-8",children:[t&&(0,r.jsx)("div",{children:"Loading orders..."}),(null==e?void 0:e.length)>0&&e.map(e=>(0,r.jsxs)("div",{className:"bg-gray-100 mb-2 p-4 rounded-lg flex flex-col md:flex-row items-center gap-6",children:[(0,r.jsxs)("div",{className:"grow flex flex-col md:flex-row items-center gap-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:(e.paid?"bg-green-500":"bg-red-400")+" p-2 rounded-md text-white w-24 text-center",children:e.paid?"Paid":"Not paid"})}),(0,r.jsxs)("div",{className:"grow",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center mb-1",children:[(0,r.jsx)("div",{className:"grow",children:e.userEmail}),(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:e.createdAt.replace("T"," ").substring(0,16)})]}),(0,r.jsx)("div",{className:"text-gray-500 text-xs",children:e.cartProducts.map(e=>e.name).join(", ")})]})]}),(0,r.jsx)("div",{className:"justify-end flex gap-2 items-center whitespace-nowrap",children:(0,r.jsx)(i.default,{href:"/orders/"+e._id,className:"button",children:"Show order"})})]},e._id))]})]})}},8497:function(e,s,t){"use strict";t.d(s,{U:function(){return a}});var r=t(2265);function a(){let[e,s]=(0,r.useState)(!1),[t,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{a(!0),fetch("/api/profile").then(e=>{e.json().then(e=>{s(e),a(!1)})})},[]),{loading:t,data:e}}},2363:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var r=t(7437);function a(e){let{subHeader:s,mainHeader:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"uppercase text-gray-500 font-semibold leading-4",children:s}),(0,r.jsx)("h2",{className:"text-primary font-bold text-4xl italic",children:t})]})}},2546:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var r=t(7437),a=t(7138),n=t(6463);function i(e){let{isAdmin:s}=e,t=(0,n.usePathname)();return(0,r.jsxs)("div",{className:"flex mx-auto gap-2 tabs justify-center flex-wrap",children:[(0,r.jsx)(a.default,{className:"/profile"===t?"active":"",href:"/profile",children:"Profile"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.default,{href:"/categories",className:"/categories"===t?"active":"",children:"Categories"}),(0,r.jsx)(a.default,{href:"/menu-items",className:t.includes("menu-items")?"active":"",children:"Menu Items"}),(0,r.jsx)(a.default,{className:t.includes("/users")?"active":"",href:"/users",children:"Users"})]}),(0,r.jsx)(a.default,{className:"/orders"===t?"active":"",href:"/orders",children:"Orders"})]})}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=5143)}),_N_E=e.O()}]);