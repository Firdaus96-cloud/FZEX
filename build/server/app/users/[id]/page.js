(()=>{var e={};e.id=676,e.ids=[676],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},44148:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),s(91901),s(2590),s(35866);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["users",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91901)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/users/[id]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2590)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/uumparcelcentre.com.my/firdausfauzi/src/app/users/[id]/page.js"],c="/users/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/users/[id]/page",pathname:"/users/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35228:(e,t,s)=>{Promise.resolve().then(s.bind(s,93313))},93313:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(10326),r=s(36274),n=s(4749),i=s(60515),l=s(35047),o=s(17577),d=s(40381);function u(){let{loading:e,data:t}=(0,i.U)(),[s,u]=(0,o.useState)(null),{id:c}=(0,l.useParams)();async function p(e,t){e.preventDefault();let s=new Promise(async(e,s)=>{(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,_id:c})})).ok?e():s()});await d.ZP.promise(s,{loading:"Saving user...",success:"User saved",error:"An error has occurred while saving the user"})}return e?"Loading user profile...":t.admin?(0,a.jsxs)("section",{className:"mt-8 mx-auto max-w-2xl",children:[a.jsx(n.Z,{isAdmin:!0}),a.jsx("div",{className:"mt-8",children:a.jsx(r.Z,{user:s,onSave:p})})]}):"Not an admin"}},60640:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(10326);function r({addressProps:e,setAddressProp:t,disabled:s=!1}){let{phone:r,streetAddress:n,postalCode:i,city:l,country:o}=e;return(0,a.jsxs)(a.Fragment,{children:[a.jsx("label",{children:"Phone"}),a.jsx("input",{disabled:s,type:"tel",placeholder:"Phone number",value:r||"",onChange:e=>t("phone",e.target.value)}),a.jsx("label",{children:"Street address"}),a.jsx("input",{disabled:s,type:"text",placeholder:"Street address",value:n||"",onChange:e=>t("streetAddress",e.target.value)}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{children:"Postal code"}),a.jsx("input",{disabled:s,type:"text",placeholder:"Postal code",value:i||"",onChange:e=>t("postalCode",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"City"}),a.jsx("input",{disabled:s,type:"text",placeholder:"City",value:l||"",onChange:e=>t("city",e.target.value)})]})]}),a.jsx("label",{children:"Country"}),a.jsx("input",{disabled:s,type:"text",placeholder:"Country",value:o||"",onChange:e=>t("country",e.target.value)})]})}},36274:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(10326),r=s(60640),n=s(23355),i=s(60515),l=s(17577);function o({user:e,onSave:t}){let[s,o]=(0,l.useState)(e?.name||""),[d,u]=(0,l.useState)(e?.image||""),[c,p]=(0,l.useState)(e?.phone||""),[m,x]=(0,l.useState)(e?.streetAddress||""),[h,g]=(0,l.useState)(e?.postalCode||""),[v,j]=(0,l.useState)(e?.city||""),[y,f]=(0,l.useState)(e?.country||""),[b,P]=(0,l.useState)(e?.admin||!1),{data:C}=(0,i.U)();return(0,a.jsxs)("div",{className:"md:flex gap-4",children:[a.jsx("div",{children:a.jsx("div",{className:"p-2 rounded-lg relative max-w-[120px]",children:a.jsx(n.Z,{link:d,setLink:u})})}),(0,a.jsxs)("form",{className:"grow",onSubmit:e=>t(e,{name:s,image:d,phone:c,admin:b,streetAddress:m,city:v,country:y,postalCode:h}),children:[a.jsx("label",{children:"First and last name"}),a.jsx("input",{type:"text",placeholder:"First and last name",value:s,onChange:e=>o(e.target.value)}),a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",disabled:!0,value:e.email,placeholder:"email"}),a.jsx(r.Z,{addressProps:{phone:c,streetAddress:m,postalCode:h,city:v,country:y},setAddressProp:function(e,t){"phone"===e&&p(t),"streetAddress"===e&&x(t),"postalCode"===e&&g(t),"city"===e&&j(t),"country"===e&&f(t)}}),C.admin&&a.jsx("div",{children:(0,a.jsxs)("label",{className:"p-2 inline-flex items-center gap-2 mb-2",htmlFor:"adminCb",children:[a.jsx("input",{id:"adminCb",type:"checkbox",className:"",value:"1",checked:b,onChange:e=>P(e.target.checked)}),a.jsx("span",{children:"Admin"})]})}),a.jsx("button",{type:"submit",children:"Save"})]})]})}},91901:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=s(68570);let r=(0,a.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/users/[id]/page.js`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,a.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/users/[id]/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,109,621,226,612],()=>s(44148));module.exports=a})();