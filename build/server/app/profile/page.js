(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},2135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(26592),a(2590),a(35866);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,26592)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/profile/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2590)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/uumparcelcentre.com.my/firdausfauzi/src/app/profile/page.js"],u="/profile/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48769:(e,t,a)=>{Promise.resolve().then(a.bind(a,12846))},12846:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(10326);a(23355);var s=a(36274),n=a(4749),i=a(77109);a(46226),a(90434);var l=a(35047),o=a(17577),d=a(40381);function c(){let e=(0,i.useSession)(),[t,a]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),{status:x}=e;async function h(e,t){e.preventDefault();let a=new Promise(async(e,a)=>{(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?e():a()});await d.ZP.promise(a,{loading:"Saving...",success:"Profile saved!",error:"Error"})}return"loading"!==x&&p?"unauthenticated"===x?(0,l.redirect)("/login"):(0,r.jsxs)("section",{className:"mt-8",children:[r.jsx(n.Z,{isAdmin:c}),r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsx(s.Z,{user:t,onSave:h})})]}):"Loading..."}},60640:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(10326);function s({addressProps:e,setAddressProp:t,disabled:a=!1}){let{phone:s,streetAddress:n,postalCode:i,city:l,country:o}=e;return(0,r.jsxs)(r.Fragment,{children:[r.jsx("label",{children:"Phone"}),r.jsx("input",{disabled:a,type:"tel",placeholder:"Phone number",value:s||"",onChange:e=>t("phone",e.target.value)}),r.jsx("label",{children:"Street address"}),r.jsx("input",{disabled:a,type:"text",placeholder:"Street address",value:n||"",onChange:e=>t("streetAddress",e.target.value)}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{children:"Postal code"}),r.jsx("input",{disabled:a,type:"text",placeholder:"Postal code",value:i||"",onChange:e=>t("postalCode",e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{children:"City"}),r.jsx("input",{disabled:a,type:"text",placeholder:"City",value:l||"",onChange:e=>t("city",e.target.value)})]})]}),r.jsx("label",{children:"Country"}),r.jsx("input",{disabled:a,type:"text",placeholder:"Country",value:o||"",onChange:e=>t("country",e.target.value)})]})}},36274:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(10326),s=a(60640),n=a(23355),i=a(60515),l=a(17577);function o({user:e,onSave:t}){let[a,o]=(0,l.useState)(e?.name||""),[d,c]=(0,l.useState)(e?.image||""),[u,p]=(0,l.useState)(e?.phone||""),[m,x]=(0,l.useState)(e?.streetAddress||""),[h,g]=(0,l.useState)(e?.postalCode||""),[v,f]=(0,l.useState)(e?.city||""),[j,y]=(0,l.useState)(e?.country||""),[b,P]=(0,l.useState)(e?.admin||!1),{data:S}=(0,i.U)();return(0,r.jsxs)("div",{className:"md:flex gap-4",children:[r.jsx("div",{children:r.jsx("div",{className:"p-2 rounded-lg relative max-w-[120px]",children:r.jsx(n.Z,{link:d,setLink:c})})}),(0,r.jsxs)("form",{className:"grow",onSubmit:e=>t(e,{name:a,image:d,phone:u,admin:b,streetAddress:m,city:v,country:j,postalCode:h}),children:[r.jsx("label",{children:"First and last name"}),r.jsx("input",{type:"text",placeholder:"First and last name",value:a,onChange:e=>o(e.target.value)}),r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",disabled:!0,value:e.email,placeholder:"email"}),r.jsx(s.Z,{addressProps:{phone:u,streetAddress:m,postalCode:h,city:v,country:j},setAddressProp:function(e,t){"phone"===e&&p(t),"streetAddress"===e&&x(t),"postalCode"===e&&g(t),"city"===e&&f(t),"country"===e&&y(t)}}),S.admin&&r.jsx("div",{children:(0,r.jsxs)("label",{className:"p-2 inline-flex items-center gap-2 mb-2",htmlFor:"adminCb",children:[r.jsx("input",{id:"adminCb",type:"checkbox",className:"",value:"1",checked:b,onChange:e=>P(e.target.checked)}),r.jsx("span",{children:"Admin"})]})}),r.jsx("button",{type:"submit",children:"Save"})]})]})}},26592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=a(68570);let s=(0,r.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/profile/page.js`),{__esModule:n,$$typeof:i}=s;s.default;let l=(0,r.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/profile/page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,109,621,226,612],()=>a(2135));module.exports=r})();