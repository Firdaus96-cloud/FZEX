(()=>{var e={};e.id=385,e.ids=[385],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},18038:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),s(10746),s(2590),s(35866);var n=s(23191),r=s(88716),a=s(37922),i=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["menu-items",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,10746)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/menu-items/new/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2590)),"/home/uumparcelcentre.com.my/firdausfauzi/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/uumparcelcentre.com.my/firdausfauzi/src/app/menu-items/new/page.js"],d="/menu-items/new/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/menu-items/new/page",pathname:"/menu-items/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34446:(e,t,s)=>{Promise.resolve().then(s.bind(s,82684))},82684:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(10326),r=s(17552);s(45208),s(23355);var a=s(63558),i=s(4749),o=s(60515),l=s(90434),c=s(35047),u=s(17577),d=s(40381);function m(){let[e,t]=(0,u.useState)(!1),{loading:s,data:m}=(0,o.U)();async function p(e,s){e.preventDefault();let n=new Promise(async(e,t)=>{(await fetch("/api/menu-items",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).ok?e():t()});await d.ZP.promise(n,{loading:"Saving this tasty item",success:"Saved",error:"Error"}),t(!0)}return e?(0,c.redirect)("/menu-items"):s?"Loading user info...":m.admin?(0,n.jsxs)("section",{className:"mt-8",children:[n.jsx(i.Z,{isAdmin:!0}),n.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:(0,n.jsxs)(l.default,{href:"/menu-items",className:"button",children:[n.jsx(r.Z,{}),n.jsx("span",{children:"Show all menu items"})]})}),n.jsx(a.Z,{menuItem:null,onSubmit:p})]}):"Not an admin."}},17552:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(10326);function r({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 9l-3 3m0 0l3 3m-3-3h7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},45208:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(10326);function r({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},66747:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(10326);function r({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}},63558:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(10326);function r({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}var a=s(66747),i=s(23355);function o({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}function l({className:e="w-6 h-6"}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}var c=s(17577);function u({name:e,addLabel:t,props:s,setProps:i}){let[u,d]=(0,c.useState)(!1);function m(e,t,s){let n=e.target.value;i(e=>{let r=[...e];return r[t][s]=n,r})}return(0,n.jsxs)("div",{className:"bg-gray-200 p-2 rounded-md mb-2",children:[(0,n.jsxs)("button",{onClick:()=>d(e=>!e),className:"inline-flex p-1 border-0 justify-start",type:"button",children:[u&&n.jsx(l,{}),!u&&n.jsx(o,{}),n.jsx("span",{children:e}),(0,n.jsxs)("span",{children:["(",s?.length,")"]})]}),(0,n.jsxs)("div",{className:u?"block":"hidden",children:[s?.length>0&&s.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-end gap-2",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{children:"Name"}),n.jsx("input",{type:"text",placeholder:"Size name",value:e.name,onChange:e=>m(e,t,"name")})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{children:"Extra price"}),n.jsx("input",{type:"text",placeholder:"Extra price",value:e.price,onChange:e=>m(e,t,"price")})]}),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:()=>{i(e=>e.filter((e,s)=>s!==t))},className:"bg-white mb-2 px-2",children:n.jsx(a.Z,{})})})]},t)),(0,n.jsxs)("button",{type:"button",onClick:function(){i(e=>[...e,{name:"",price:0}])},className:"bg-white items-center",children:[n.jsx(r,{className:"w-4 h-4"}),n.jsx("span",{children:t})]})]})]})}function d({onSubmit:e,menuItem:t}){let[s,r]=(0,c.useState)(t?.image||""),[a,o]=(0,c.useState)(t?.name||""),[l,d]=(0,c.useState)(t?.description||""),[m,p]=(0,c.useState)(t?.basePrice||""),[x,h]=(0,c.useState)(t?.sizes||[]),[g,j]=(0,c.useState)(t?.category||""),[v,w]=(0,c.useState)([]),[f,b]=(0,c.useState)(t?.extraIngredientPrices||[]);return n.jsx("form",{onSubmit:t=>e(t,{image:s,name:a,description:l,basePrice:m,sizes:x,extraIngredientPrices:f,category:g}),className:"mt-8 max-w-2xl mx-auto",children:(0,n.jsxs)("div",{className:"md:grid items-start gap-4",style:{gridTemplateColumns:".3fr .7fr"},children:[n.jsx("div",{children:n.jsx(i.Z,{link:s,setLink:r})}),(0,n.jsxs)("div",{className:"grow",children:[n.jsx("label",{children:"Item name"}),n.jsx("input",{type:"text",value:a,onChange:e=>o(e.target.value)}),n.jsx("label",{children:"Description"}),n.jsx("input",{type:"text",value:l,onChange:e=>d(e.target.value)}),n.jsx("label",{children:"Category"}),n.jsx("select",{value:g,onChange:e=>j(e.target.value),children:v?.length>0&&v.map(e=>n.jsx("option",{value:e._id,children:e.name},e._id))}),n.jsx("label",{children:"Base price"}),n.jsx("input",{type:"text",value:m,onChange:e=>p(e.target.value)}),n.jsx(u,{name:"Sizes",addLabel:"Add item size",props:x,setProps:h}),n.jsx(u,{name:"Extra ingredients",addLabel:"Add ingredients prices",props:f,setProps:b}),n.jsx("button",{type:"submit",children:"Save"})]})]})})}},10746:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var n=s(68570);let r=(0,n.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/menu-items/new/page.js`),{__esModule:a,$$typeof:i}=r;r.default;let o=(0,n.createProxy)(String.raw`/home/uumparcelcentre.com.my/firdausfauzi/src/app/menu-items/new/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[948,109,621,226,612],()=>s(18038));module.exports=n})();