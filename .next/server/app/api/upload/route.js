(()=>{var e={};e.id=998,e.ids=[998],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{POST:()=>c});var o=r(49303),n=r(88716),a=r(60670);let i=require("@aws-sdk/client-s3");var u=r(37595),p=r.n(u);async function c(e){let t=await e.formData();if(t.get("file")){let e=t.get("file"),r=new i.S3Client({region:"us-east-1",credentials:{accessKeyId:process.env.MY_AWS_ACCESS_KEY,secretAccessKey:process.env.MY_AWS_SECRET_KEY}}),s=e.name.split(".").slice(-1)[0],o=p()()+"."+s,n=[];for await(let t of e.stream())n.push(t);let a=Buffer.concat(n),u="dawid-food-ordering";return await r.send(new i.PutObjectCommand({Bucket:u,Key:o,ACL:"public-read",ContentType:e.type,Body:a})),Response.json("https://"+u+".s3.amazonaws.com/"+o)}return Response.json(!0)}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},resolvedPagePath:"/home/uumparcelcentre.com.my/firdausfauzi/src/app/api/upload/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:f,serverHooks:m}=d,g="/api/upload/route";function v(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},49303:(e,t,r)=>{"use strict";e.exports=r(30517)},37595:e=>{var t="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function r(){var e=Date.now(),t=r.last||e;return r.last=e>t?e:t+1}e.exports=e.exports.default=function(e,s){return(e||"")+""+t+r().toString(36)+(s||"")},e.exports.process=function(e,s){return(e||"")+t+r().toString(36)+(s||"")},e.exports.time=function(e,t){return(e||"")+r().toString(36)+(t||"")}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948],()=>r(7069));module.exports=s})();