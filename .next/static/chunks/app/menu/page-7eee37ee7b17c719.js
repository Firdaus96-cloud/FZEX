(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{3115:function(e,t,n){Promise.resolve().then(n.bind(n,2955))},291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=n(9920)._(n(2265)).default.createContext(null)},2955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),i=n(2363),s=n(5249),a=n(2265);function l(){let[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)([]);return(0,a.useEffect)(()=>{fetch("/api/categories").then(e=>{e.json().then(e=>t(e))}),fetch("/api/menu-items").then(e=>{e.json().then(e=>l(e))})},[]),(0,r.jsx)("section",{className:"mt-8",children:(null==e?void 0:e.length)>0&&e.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(i.Z,{mainHeader:e.name})}),(0,r.jsx)("div",{className:"grid sm:grid-cols-3 gap-4 mt-6 mb-12",children:n.filter(t=>t.category===e._id).map(e=>(0,r.jsx)(s.Z,{...e},e._id))})]},e._id))})}},6425:function(e,t,n){"use strict";n.d(t,{A:function(){return l},AppProvider:function(){return o},B:function(){return c}});var r=n(7437),i=n(998),s=n(2265),a=n(8726);let l=(0,s.createContext)({});function c(e){var t;let n=e.basePrice;if(e.size&&(n+=e.size.price),(null===(t=e.extras)||void 0===t?void 0:t.length)>0)for(let t of e.extras)n+=t.price;return n}function o(e){let{children:t}=e,[n,c]=(0,s.useState)([]),o=window.localStorage;function d(e){o&&o.setItem("cart",JSON.stringify(e))}return(0,s.useEffect)(()=>{o&&o.getItem("cart")&&c(JSON.parse(o.getItem("cart")))},[]),(0,r.jsx)(i.SessionProvider,{children:(0,r.jsx)(l.Provider,{value:{cartProducts:n,setCartProducts:c,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];c(r=>{let i=[...r,{...e,size:t,extras:n}];return d(i),i})},removeCartProduct:function(e){c(t=>{let n=t.filter((t,n)=>n!==e);return d(n),n}),a.ZP.success("Product removed")},clearCart:function(){c([]),d([])}},children:t})})}},2363:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7437);function i(e){let{subHeader:t,mainHeader:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"uppercase text-gray-500 font-semibold leading-4",children:t}),(0,r.jsx)("h2",{className:"text-primary font-bold text-4xl italic",children:n})]})}},5249:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(7437),i=n(6425),s=n(2265);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l={borderRadius:"4rem",width:"8rem"};function c(e){var t=e.src,n=void 0===t?"":t,r=e.children,i=e.targetTop,c=e.targetLeft,o=e.customAnimation,d=e.animationDuration,u=void 0===d?.9:d,m=e.flyingItemStyling,x=void 0===m?l:m,p=(0,s.useRef)(null);return s.createElement("div",null,s.createElement("style",null,"\n    .flying_image {\n      --target-position-x: 0px;\n      --target-position-y: 0px;\n    \n      display: block;\n      position: fixed;\n      top: var(--target-position-y);\n      left: var(--target-position-x);\n      translate: -50% -50%;\n      animation: fly "+u+"s 1;\n    }\n    @keyframes fly {\n      0% {\n        top: var(--target-position-y);\n        left: var(--target-position-x);\n        opacity: 1;\n      }\n      "+(void 0===o?"":o)+"\n      100% {\n        top: "+(void 0===i?"5%":i)+";\n        left: "+(void 0===c?"5%":c)+";\n        opacity: 0;\n      }\n    }\n  "),s.createElement("button",{onClick:function(e){p.current.style.setProperty("--target-position-x",e.clientX+"px"),p.current.style.setProperty("--target-position-y",e.clientY+"px"),p.current.style.setProperty("display",""),p.current.src=n,setTimeout(function(){return p.current.style.setProperty("display","none")},1e3*u-100)}},r),s.createElement("img",{src:"",alt:"",className:"flying_image",style:a({display:"none"},l,x),ref:p}))}function o(e){let{hasSizesOrExtras:t,onClick:n,basePrice:i,image:s}=e;return t?(0,r.jsx)("button",{type:"button",onClick:n,className:"mt-4 bg-primary text-white rounded-full px-8 py-2",children:(0,r.jsxs)("span",{children:["Add to cart (from $",i,")"]})}):(0,r.jsx)("div",{className:"flying-button-parent mt-4",children:(0,r.jsx)(c,{targetTop:"5%",targetLeft:"95%",src:s,children:(0,r.jsxs)("div",{onClick:n,children:["Add to cart $",i]})})})}function d(e){let{onAddToCart:t,...n}=e,{image:i,description:s,name:a,basePrice:l,sizes:c,extraIngredientPrices:d}=n,u=(null==c?void 0:c.length)>0||(null==d?void 0:d.length)>0;return(0,r.jsxs)("div",{className:"bg-gray-200 p-4 rounded-lg text-center group hover:bg-white hover:shadow-md hover:shadow-black/25 transition-all",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("img",{src:i,className:"max-h-auto max-h-24 block mx-auto",alt:"pizza"})}),(0,r.jsx)("h4",{className:"font-semibold text-xl my-3",children:a}),(0,r.jsx)("p",{className:"text-gray-500 text-sm line-clamp-3",children:s}),(0,r.jsx)(o,{image:i,hasSizesOrExtras:u,onClick:t,basePrice:l})]})}var u=n(6648);function m(e){let{image:t,name:n,description:a,basePrice:l,sizes:o,extraIngredientPrices:m}=e,[x,p]=(0,s.useState)((null==o?void 0:o[0])||null),[h,f]=(0,s.useState)([]),[g,v]=(0,s.useState)(!1),{addToCart:y}=(0,s.useContext)(i.A);async function j(){if(console.log("add to cart"),(o.length>0||m.length>0)&&!g){v(!0);return}y(e,x,h),await new Promise(e=>setTimeout(e,1e3)),console.log("hiding popup"),v(!1)}let b=l;if(x&&(b+=x.price),(null==h?void 0:h.length)>0)for(let e of h)b+=e.price;return(0,r.jsxs)(r.Fragment,{children:[g&&(0,r.jsx)("div",{onClick:()=>v(!1),className:"fixed inset-0 bg-black/80 flex items-center justify-center",children:(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),className:"my-8 bg-white p-2 rounded-lg max-w-md",children:(0,r.jsxs)("div",{className:"overflow-y-scroll p-2",style:{maxHeight:"calc(100vh - 100px)"},children:[(0,r.jsx)(u.default,{src:t,alt:n,width:300,height:200,className:"mx-auto"}),(0,r.jsx)("h2",{className:"text-lg font-bold text-center mb-2",children:n}),(0,r.jsx)("p",{className:"text-center text-gray-500 text-sm mb-2",children:a}),(null==o?void 0:o.length)>0&&(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)("h3",{className:"text-center text-gray-700",children:"Pick your size"}),o.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 p-4 border rounded-md mb-1",children:[(0,r.jsx)("input",{type:"radio",onChange:()=>p(e),checked:(null==x?void 0:x.name)===e.name,name:"size"}),e.name," $",l+e.price]},e._id))]}),(null==m?void 0:m.length)>0&&(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)("h3",{className:"text-center text-gray-700",children:"Any extras?"}),m.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 p-4 border rounded-md mb-1",children:[(0,r.jsx)("input",{type:"checkbox",onChange:t=>{t.target.checked?f(t=>[...t,e]):f(t=>t.filter(t=>t.name!==e.name))},checked:h.map(e=>e._id).includes(e._id),name:e.name}),e.name," +$",e.price]},e._id))]}),(0,r.jsx)(c,{targetTop:"5%",targetLeft:"95%",src:t,children:(0,r.jsxs)("div",{className:"primary sticky bottom-2",onClick:j,children:["Add to cart $",b]})}),(0,r.jsx)("button",{className:"mt-2",onClick:()=>v(!1),children:"Cancel"})]})})}),(0,r.jsx)(d,{onAddToCart:j,...e})]})}n(8726)}},function(e){e.O(0,[648,726,998,971,23,744],function(){return e(e.s=3115)}),_N_E=e.O()}]);